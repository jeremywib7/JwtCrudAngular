<div class="container-fluid page">
  <nav aria-label="breadcrumb" class="main-breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/user">User</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{ editMode ? 'Edit' : 'Add'}} User</li>
    </ol>
  </nav>
  <div class="d-flex page__box p-3 mt-2 ">{{ editMode ? 'Edit' : 'Add'}} User</div>
  <div class="page__content shadow p-3 position-relative">
    <div class="modal-body">
      <!--                <form #addForm="ngForm" (ngSubmit)="onAddMember(addForm)">-->
      <form [formGroup]="reactiveForm">
        <div class="form-group">
          <label for="username">Username</label>
          <input type="text" name="username" class="form-control" id="username" placeholder="Username"
                 formControlName="username">
          <div *ngIf="reactiveForm.controls.username.errors && (reactiveForm.controls.username.touched ||
                           reactiveForm.controls.username.dirty) " style="color: red">
            <div *ngIf="reactiveForm.hasError('required','username')">
              Username is required
            </div>
            <div *ngIf="reactiveForm.hasError('pattern','username')">
              Username format is invalid
            </div>
            <div *ngIf="reactiveForm.hasError('minlength','username')">
              Username must be 3 characters or more
            </div>
          </div>
        </div>

        <div class="row g-3">
          <div class="col">
            <div class="form-group">
              <label for="firstName">First Name</label>
              <input type="text" name="firstName" class="form-control" id="firstName"
                     placeholder="First name"
                     formControlName="userFirstName">
              <div *ngIf="reactiveForm.controls.userFirstName.errors && (reactiveForm.controls.userFirstName.touched ||
                           reactiveForm.controls.userFirstName.dirty) " style="color: red">
                <div *ngIf="reactiveForm.hasError('required','userFirstName')">
                  First Name is required
                </div>
                <div *ngIf="reactiveForm.hasError('pattern','userFirstName')">
                  First Name format is invalid
                </div>
                <div *ngIf="reactiveForm.hasError('minlength','userFirstName')">
                  First Name must be 3 characters or more
                </div>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="lastName">Last Name</label>
              <input type="text" name="lastName" class="form-control" id="lastName"
                     placeholder="Last name"
                     formControlName="userLastName">
              <div *ngIf="reactiveForm.controls.userLastName.errors && (reactiveForm.controls.userLastName.touched ||
                           reactiveForm.controls.userLastName.dirty) " style="color: red">
                <div *ngIf="reactiveForm.hasError('required','userLastName')">
                  Last Name is required
                </div>
                <div *ngIf="reactiveForm.hasError('pattern','userLastName')">
                  Last Name format is invalid
                </div>
                <div *ngIf="reactiveForm.hasError('minlength','userLastName')">
                  Last Name must be 3 characters or more
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="text" name="email" class="form-control" id="email" placeholder="Email"
                 formControlName="email">
          <div *ngIf="reactiveForm.controls.email.errors && (reactiveForm.controls.email.touched ||
                           reactiveForm.controls.email.dirty) " style="color: red">
            <div *ngIf="reactiveForm.hasError('required','email')">
              Email is required
            </div>
            <div *ngIf="reactiveForm.hasError('pattern','email')">
              Email format is invalid
            </div>
            <div *ngIf="reactiveForm.hasError('minlength','email')">
              Email must be 3 characters or more
            </div>
          </div>
        </div>
        <fieldset class="row mb-3">
          <legend class="col-form-label col-sm-2 pt-0">Gender</legend>
          <div class="col-sm-10">
            <div class="form-check">
              <input name="gender" class="form-check-input" type="radio" id="maleRadioButton"
                     value="Male" formControlName="gender">
              <label class="form-check-label" for="maleRadioButton">
                Male
              </label>
            </div>
            <div class="form-check">
              <input name="gender" class="form-check-input" type="radio" id="femaleRadioButton"
                     value="Female" formControlName="gender">
              <label class="form-check-label" for="femaleRadioButton">
                Female
              </label>
            </div>
            <div *ngIf="reactiveForm.controls.gender.errors && (reactiveForm.controls.gender.touched ||
                           reactiveForm.controls.gender.dirty) " style="color: red">
              <div *ngIf="reactiveForm.hasError('required','gender')">
                Gender is not selected
              </div>
            </div>
          </div>
        </fieldset>
        <div class="row g-3">
          <div class="col">
            <div class="form-group">
              <label>Date Joined</label>
              <input type="date" name="dateJoined" max="3000-12-31"
                     min="1000-01-01" class="form-control" formControlName="dateJoined">
              <div *ngIf="reactiveForm.controls.dateJoined.errors && (reactiveForm.controls.dateJoined.touched ||
                           reactiveForm.controls.dateJoined.dirty) " style="color: red">
                <div *ngIf="reactiveForm.hasError('required','dateJoined')">
                  Date is required
                </div>
              </div>
            </div>
            <div class="form-group" formGroupName="role">
              <label for="editInputRank" class="form-label">Role</label>
              <select name="rank" id="editInputRank" class="form-select" formControlName="roleName">
                <option disabled>Select Role</option>
                <option value="Admin">Admin</option>
                <option value="User">User</option>
              </select>
              <div *ngIf="reactiveForm.get('role.roleName').errors && (reactiveForm.get('role.roleName').touched ||
                           reactiveForm.get('role.roleName').dirty) " style="color: red">
                <div *ngIf="reactiveForm.hasError('required', 'role.roleName')">
                  <!--                <div *ngIf="reactiveForm.hasError('required','roleName')">-->
                  Role is required
                </div>
              </div>
            </div>

            <!--            <div class="form-group">-->
            <!--              <label for="inputState" class="form-label">Rank</label>-->
            <!--              <select name="rank" id="inputState" class="form-select" formControlName="rank">-->
            <!--                <option disabled selected>Select Rank</option>-->
            <!--                <option value="Bronze">Bronze</option>-->
            <!--                <option value="Silver">Silver</option>-->
            <!--                <option value="Gold">Gold</option>-->
            <!--                <option value="Platinum">Platinum</option>-->
            <!--              </select>-->
            <!--              <div *ngIf="reactiveForm.controls.rank.errors && (reactiveForm.controls.rank.touched ||-->
            <!--                           reactiveForm.controls.rank.dirty) " style="color: red">-->
            <!--                <div *ngIf="reactiveForm.hasError('required','rank')">-->
            <!--                  Rank is required-->
            <!--                </div>-->
            <!--              </div>-->
            <!--            </div>-->
          </div>
          <div class="col">
            <!--            <div class="form-group">-->
            <!--              <label for="country" class="form-label">Nationality</label>-->
            <!--              <select name="nationality" id="country" class="form-select"-->
            <!--                      formControlName="nationality">-->
            <!--                <option disabled selected>Select Country</option>-->
            <!--                <option *ngFor="let country of countries" [value]="country.name">{{country.name}}</option>-->
            <!--              </select>-->
            <!--              <div *ngIf="reactiveForm.controls.nationality.errors && (reactiveForm.controls.nationality.touched ||-->
            <!--                           reactiveForm.controls.nationality.dirty) " style="color: red">-->
            <!--                <div *ngIf="reactiveForm.hasError('required','nationality')">-->
            <!--                  Nationality is required-->
            <!--                </div>-->
            <!--              </div>-->
            <!--            </div>-->
            <div class="form-group">
              <label for="phoneNumber">Phone</label>
              <input type="text" name="phoneNumber" class="form-control" id="phoneNumber"
                     placeholder="Phone" formControlName="phoneNumber">
              <div *ngIf="reactiveForm.controls.phoneNumber.errors && (reactiveForm.controls.phoneNumber.touched ||
                           reactiveForm.controls.phoneNumber.dirty) " style="color: red">
                <div *ngIf="reactiveForm.hasError('required','phoneNumber')">
                  Phone number is required
                </div>
                <div *ngIf="reactiveForm.hasError('pattern','phoneNumber')">
                  Phone number format is invalid
                </div>
                <div *ngIf="reactiveForm.hasError('minlength','phoneNumber')">
                  Phone number must be between 10 and 14 characters
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="bankAccount">Bank Account</label>
              <input type="text" name="bankAccount" class="form-control" id="bankAccount"
                     placeholder="Bank Account" formControlName="bankAccount">
              <div *ngIf="reactiveForm.controls.bankAccount.errors && (reactiveForm.controls.bankAccount.touched ||
                           reactiveForm.controls.bankAccount.dirty) " style="color: red">
                <div *ngIf="reactiveForm.hasError('required','bankAccount')">
                  Bank Account is required
                </div>
                <div *ngIf="reactiveForm.hasError('pattern','bankAccount')">
                  Bank Account must be a number
                </div>
                <div *ngIf="reactiveForm.hasError('minlength','bankAccount')">
                  Bank Account must be 3 characters or more
                </div>
              </div>
            </div>

          </div>
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <input type="text" name="address" class="form-control" id="address" placeholder="Address"
                 formControlName="address">
          <div *ngIf="reactiveForm.controls.address.errors && (reactiveForm.controls.address.touched ||
                           reactiveForm.controls.address.dirty) " style="color: red">
            <div *ngIf="reactiveForm.hasError('required','address')">
              Address is required
            </div>
          </div>
        </div>
        <!--        <div class="form-group">-->
        <!--          <label class="form-label" for="customFile">Profile Picture</label>-->
        <!--          <input name="profilePicture" type="file" accept="image/*" (change)="onSelectFile($event)"-->
        <!--                 class="form-control" id="customFile"-->
        <!--          />-->
        <!--        </div>-->
        <!--                  <div class="form-group">-->
        <!--                    <label for="imageUrl">Image URL</label>-->
        <!--                    <input type="text"  name="imageUrl" class="form-control" id="imageUrl"-->
        <!--                           placeholder="Image URL" formControlName="imageUrl">-->
        <!--                    <div *ngIf="reactiveForm.controls.imageUrl.errors && (reactiveForm.controls.imageUrl.touched ||-->
        <!--                     reactiveForm.controls.imageUrl.dirty) " style="color: red">-->
        <!--                      <div *ngIf="reactiveForm.hasError('required','imageUrl')">-->
        <!--                        Image URL is required-->
        <!--                      </div>-->
        <!--                    </div>-->
        <!--                  </div>-->
        <div class="modal-footer">
          <button type="button" id="add-member-form" class="btn btn-secondary" data-dismiss="modal"
                  routerLink="/user">Close
          </button>
          <!--                    <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary">Save changes</button>-->
          <ngid-button
            color="PRIMARY"
            size="MD"
            [disabled]="false"
            (click)="submit()" type="submit"> {{ editMode ? 'Save Changes' : 'Add User'}}
          </ngid-button>
        </div>
      </form>
    </div>

  </div>
</div>


